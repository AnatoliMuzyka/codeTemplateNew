<!DOCTYPE html>
<html>
  <head>
    <title>Отбор при открытии</title>
  </head>
  <body>
	<h1> Отбор при открытии</h1>
    <p><code>
	&НаКлиенте<br>
		Процедура ДокументБухНачалоВыбора(Элемент, ДанныеВыбора, СтандартнаяОбработка)<br>
			СтандартнаяОбработка = ложь;<br>

			нФормаВыбора = ПолучитьФорму("Документ.ПоступлениеТоваровУслуг.Форма.ФормаВыбора", , этаформа);<br>
			Если ЗначениеЗаполнено(Объект.Контрагент) Тогда<br>
				эОтбор = нФормаВыбора.Список.Отбор.Элементы.Добавить(Тип("ЭлементОтбораКомпоновкиДанных"));<br>
				эОтбор.ЛевоеЗначение = Новый ПолеКомпоновкиДанных("Контрагент");<br>
				эОтбор.ВидСравнения = ВидСравненияКомпоновкиДанных.Равно;<br>
				эОтбор.ПравоеЗначение = Объект.Контрагент;<br>
				эОтбор.Использование = Истина;<br>
				
				эОтбор.РежимОтображения = РежимОтображенияЭлементаНастройкиКомпоновкиДанных.Обычный;<br>
			КонецЕсли;<br>
			
			нФормаВыбора.открыть();	<br>
		КонецПроцедуры<br>
		
		&НаКлиенте<br>
		Процедура ОбработкаВыбора(ВыбранноеЗначение, ИсточникВыбора)<br>
			Если найти(ИсточникВыбора.ИмяФормы, "ЦИ_Образец")>0 Тогда<br>
				объект.Образец = ВыбранноеЗначение;<br>
			КонецЕсли;<br>
			Если найти(ИсточникВыбора.ИмяФормы, "ЦИ_ПартииОбразцов")>0 Тогда<br>
				объект.ПартияОбразеца = ВыбранноеЗначение;<br>
			КонецЕсли;<br>
		КонецПроцедуры<br>
	</code></p>
 </body>
</html>


